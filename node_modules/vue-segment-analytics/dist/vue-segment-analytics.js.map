{"version":3,"sources":["webpack:///webpack/bootstrap fe6b731b42801b1f8c36","webpack:///./src/init.js","webpack:///./src/index.js","webpack:///./~/load-script/index.js"],"names":["init","config","callback","id","length","console","warn","analytics","window","initialize","invoked","error","methods","factory","method","args","Array","prototype","slice","call","arguments","debug","log","name","unshift","push","SNIPPET_VERSION","key","source","script","poll","setInterval","clearInterval","install","Vue","options","Object","assign","router","undefined","afterEach","to","from","page","path","fullPath","referrer","$segment"],"mappings":"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","file":"vue-segment-analytics.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fe6b731b42801b1f8c36","import loadScript from 'load-script'\n\nexport default function init (config, callback) {\n  if (!config.id || !config.id.length) {\n    console.warn('Please enter a Segment.io tracking ID')\n    return\n  }\n\n  // Create a queue, but don't obliterate an existing one!\n  var analytics = window.analytics = window.analytics || []\n\n  // If the real analytics.js is already on the page return.\n  if (analytics.initialize) return\n\n  // If the snippet was invoked already show an error.\n  if (analytics.invoked) {\n    if (window.console && console.error) {\n      console.error('Segment snippet included twice.')\n    }\n    return\n  }\n\n  // Invoked flag, to make sure the snippet\n  // is never invoked twice.\n  analytics.invoked = true\n\n  // A list of the methods in Analytics.js to stub.\n  analytics.methods = [\n    'trackSubmit',\n    'trackClick',\n    'trackLink',\n    'trackForm',\n    'pageview',\n    'identify',\n    'reset',\n    'group',\n    'track',\n    'ready',\n    'alias',\n    'debug',\n    'page',\n    'once',\n    'off',\n    'on'\n  ]\n\n  // Define a factory to create stubs. These are placeholders\n  // for methods in Analytics.js so that you never have to wait\n  // for it to load to actually record data. The `method` is\n  // stored as the first argument, so we can replay the data.\n  analytics.factory = function (method) {\n    return function () {\n      var args = Array.prototype.slice.call(arguments)\n      if (config.debug === true) {\n        if (window.console && console.log) {\n          console.log(`[Segment Analytics Debug]: ${method.name} called with args ${args}`)\n        }\n      } else {\n        args.unshift(method)\n        analytics.push(args)\n        return analytics\n      }\n    }\n  }\n\n  // Add a version to keep track of what's in the wild.\n  analytics.SNIPPET_VERSION = '4.0.0';\n\n  // For each of our methods, generate a queueing stub.\n  for (let key of analytics.methods) {\n    analytics[key] = analytics.factory(key);\n  }\n\n  if (config.debug === false) {\n    const source = `https://cdn.segment.com/analytics.js/v1/${config.id}/analytics.min.js`\n    loadScript(source, function (error, script) {\n      if (error) {\n        console.warn('Ops! Is not possible to load Segment Analytics script')\n        return\n      }\n\n      const poll = setInterval(function () {\n        if (!window.analytics) {\n          return\n        }\n\n        clearInterval(poll)\n\n        // the callback is fired when window.analytics is available and before any other hit is sent\n        if (callback && typeof callback === 'function') {\n          callback()\n        }\n      }, 10)\n    })\n  } else {\n    // Still run the callback in debug mode.\n    if (callback && typeof callback === 'function') {\n      callback()\n    }\n  }\n\n  return analytics\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/init.js","import init from 'src/init'\n\n/**\n * Vue installer\n * @param  {Vue instance} Vue\n * @param  {Object} [options={}]\n */\nfunction install (Vue, options = {}) {\n  const config = Object.assign({\n    debug: false\n  }, options)\n\n  console.log('HERE BITCHES')\n\n  let analytics = init(config, () => {\n    if (config.router !== undefined) {\n      router.afterEach((to, from) => {\n        // Make a page call for each navigation event\n        window.analytics.page(to.name || '', {\n          path: to.fullPath,\n          referrer: from !== undefined ? from.fullPath : ''\n        })\n      })\n    }\n  })\n\n  Vue.prototype.$segment = Vue.$segment = analytics\n}\n\nexport default { install }\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","\nmodule.exports = function load (src, opts, cb) {\n  var head = document.head || document.getElementsByTagName('head')[0]\n  var script = document.createElement('script')\n\n  if (typeof opts === 'function') {\n    cb = opts\n    opts = {}\n  }\n\n  opts = opts || {}\n  cb = cb || function() {}\n\n  script.type = opts.type || 'text/javascript'\n  script.charset = opts.charset || 'utf8';\n  script.async = 'async' in opts ? !!opts.async : true\n  script.src = src\n\n  if (opts.attrs) {\n    setAttributes(script, opts.attrs)\n  }\n\n  if (opts.text) {\n    script.text = '' + opts.text\n  }\n\n  var onend = 'onload' in script ? stdOnEnd : ieOnEnd\n  onend(script, cb)\n\n  // some good legacy browsers (firefox) fail the 'in' detection above\n  // so as a fallback we always set onload\n  // old IE will ignore this and new IE will set onload\n  if (!script.onload) {\n    stdOnEnd(script, cb);\n  }\n\n  head.appendChild(script)\n}\n\nfunction setAttributes(script, attrs) {\n  for (var attr in attrs) {\n    script.setAttribute(attr, attrs[attr]);\n  }\n}\n\nfunction stdOnEnd (script, cb) {\n  script.onload = function () {\n    this.onerror = this.onload = null\n    cb(null, script)\n  }\n  script.onerror = function () {\n    // this.onload = null here is necessary\n    // because even IE9 works not like others\n    this.onerror = this.onload = null\n    cb(new Error('Failed to load ' + this.src), script)\n  }\n}\n\nfunction ieOnEnd (script, cb) {\n  script.onreadystatechange = function () {\n    if (this.readyState != 'complete' && this.readyState != 'loaded') return\n    this.onreadystatechange = null\n    cb(null, script) // there is no way to catch loading errors in IE8\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/load-script/index.js\n// module id = 2\n// module chunks = 0"],"sourceRoot":""}